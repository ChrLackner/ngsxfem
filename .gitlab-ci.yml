beforescript:
  script:
    - echo " before script "

build:
  stage: build
  script:
    - echo " testenvironment "
    - uname -a
    - ls -al
    - pwd
    - gcc --version
    - mkdir build
    - cd build
    - nix-shell -p gcc5 xorg.libXmu zlib cmake ccache ccacheWrapper mesa_glu mesa icu python35 suitesparse --run "gcc --version"
    - nix-shell -p gcc5 xorg.libXmu zlib cmake ccache ccacheWrapper mesa_glu mesa icu python35 suitesparse --run "cmake ../."
    - nix-shell -p gcc5 xorg.libXmu zlib cmake ccache ccacheWrapper mesa_glu mesa icu python35 suitesparse --run "make"

test1:
  stage: test
  script:
    - echo " test1 "

deploy:
  stage: deploy
  script:
  - echo " deploy "

cleanup:
  script:
    - echo " cleanup "
    - pwd
